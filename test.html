<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>測試送出大表格</title>
</head>
<body>
<form action="facility_order_save_database.php" method="post">
<!-- 隱藏欄位區 -->
	<input type="hidden" name="mem_id_hidden" id="mem_id_hidden">
	<input type="hidden" name="cart_sub_total_hidden" id="cart_sub_total_hidden" value="100">
	<input type="hidden" name="discount_hidden" id="discount_hidden" value="50">
	<input type="hidden" name="creditcard_num_hidden" id="creditcard_num_hidden">
<!-- 隱藏欄位區 end -->
<table id="pay_info">
		<tr>
			<th class="tbtitle" colspan="2">輸入信用卡</th>
			<td rowspan="5" colspan="3">
				<div id="declareWrapper">
					<div id="declareTitle">
						線上信用卡交易隱私權聲明
					</div>	
					<div id="declareContent">
						為讓您安心使用本行手機信用卡服務，本行在此聲明尊重並依法保護您個人的隱私權，特
						此向您說明本服務的隱私權保護政策如下：<br>
						<b>信用卡資料之運用政策</b><br>
						您於本服務所輸入的信用卡資料，將不會提供給第三人，其申請本服務過程係由
						本服務適用裝置，將卡片號碼透過國際組織提供予本行驗證，卡片交易資訊則係
						透過 Visa、MasterCard 等國際組織處理，卡片號碼與交易明細皆不儲存於適用裝
						置，保護您的個人與信用卡資料。<br>
						<b>本服務與第三者共用個人資料之政策</b><br>
						本服務絕對不會任意出售、交換、出租或以其他變相之方式，將您的個人與信用
						卡資料揭露予其他團體或個人。惟有下列二種情形，本服務會與第三人共用您的
						個人、信用卡資料：<br>
						<b>經過您的事前同意或授權允許時。</b><br>
						司法單位或其他主管機關經合法正式的程序要求時。<br>
						<b>網站隱私權政策的修改</b><br>
						本行將視需要隨時修改本服務所提供的隱私權保護聲明，以落實保障您的隱私權。
						建議您再次來訪時，可重新瞭解我們新的隱私權政策及其改變。<br>
						<b>消費者聯絡資訊</b>
						本服務為保護使用者個人資料、維護隱私權，特訂定本隱私權保護政策，若您對
						於本隱私權保護政策、或與個人資料有關之相關事項有任何疑問時，皆可利用本
						網站”聯絡我們” 項目與本行聯絡，本行將提供最完整的說明。
					</div>
				</div>
			</td>
		</tr>
		<tr><td colspan="2">信用卡卡號</td></tr>
		<tr>
			<td colspan="2" class="credit_card" name="credit_card" id="credit_card">
				<input type="text" maxlength="4" id="credit_card1" name="credit_card1" onkeyup="setBlur(this,'credit_card2');this.value=this.value.replace(/[^0-9]/g,'')" required>-
				<input type="text" maxlength="4" id="credit_card2" name="credit_card2" onkeyup="setBlur(this,'credit_card3');this.value=this.value.replace(/[^0-9]/g,'')" required>-
				<input type="text" maxlength="4" id="credit_card3" name="credit_card3" onkeyup="setBlur(this,'credit_card4');this.value=this.value.replace(/[^0-9]/g,'')" required>-
				<input type="text" maxlength="4" id="credit_card4" name="credit_card4" onkeyup="this.value=this.value.replace(/[^0-9]/g,'')" required>
			</td>
		<tr>
			<td>到期年月</td><td>驗證碼</td>
		</tr>
		<tr>
			<td>
				<input type="text" maxlength="2" min="1" max="12" id="credit_card5" onkeyup="setBlur(this,'credit_card6');this.value=this.value.replace(/[^0-9]/g,'')">/
				<input type="text" maxlength="2" id="credit_card6" onkeyup="setBlur(this,'credit_card7');this.value=this.value.replace(/[^0-9]/g,'')">
			<td>
				<input type="text" maxlength="3" id="credit_card7" onkeyup="this.value=this.value.replace(/[^0-9]/g,'')"></td>
			</td>
		</tr>
		</tr>
	</table>
<input type="submit" name="" id="nextStep" class="highlight" value="確認結帳">
</form>
<script type="text/javascript">
document.getElementById("nextStep").addEventListener("click",save_to_db);
function save_to_db(){
	// 儲存訂單主檔
	var storage = localStorage;
	// 逐一準備傳到資料庫的主要數據
	document.getElementById("mem_id_hidden").value = storage.getItem("mem_id");
	document.getElementById("cart_sub_total_hidden").value = document.getElementById("cart_sub_total").innerHTML;
	document.getElementById("discount_hidden").value = document.getElementById("points").value;
		var creditcard_num = document.getElementById("credit_card1").value+
						 document.getElementById("credit_card2").value+
						 document.getElementById("credit_card3").value+
						 document.getElementById("credit_card4").value;
	document.getElementById("creditcard_num_hidden").value = creditcard_num;	
	// 儲存訂單副檔
	// 修改會員剩餘積分
}
</script>
</body>
</html>